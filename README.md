# MFuns 高级弹幕引擎 

MF-ADE (MFuns Advanced Danmaku Engine) 高级弹幕引擎 

当前版本: `1.1.1 Beta` ，更新日期：`2021/6/19`
## 使用文档

导入弹幕模块，并进行实例化的操作
```js
var danmaku = new MfunsDanMaku({
    //挂载的容器，要求传入一个HTMLElement对象，详见“容器”
    containers: document.getElementById("danmaku"),
    //获取弹幕的接口，详见“弹幕接口”
    danmaku: (send) => {
        /*
        获取弹幕,调用回调函数，将弹幕数组传进去
        */
        send(["json....","json...."])
    }
})
```
### 容器
containers 容器接受一个html元素,但并不会对元素的大小和位置进行设置，所以需要在外部完成对元素进行大小以及位置的设置


### 弹幕接口
由于弹幕引擎为了更好的可扩展性，内部并无任何网络请求的实现，
所以需要在这里进行相应的操作，获取弹幕当获取弹幕完成，调用 `send(string[])` 回调函数，由于弹幕可能有很多条，所以回调函数接受一个json字符串数组


### 弹幕引擎的控制方法

#### pause()
暂停弹幕

#### start()
开始播放
>注意：如果获取弹幕进行使用网络进行异步请求，当网络缓慢时，弹幕极有可能没有加载完成，如果此时调用播放，那么弹幕将不会被加载

#### skip(time:number)

跳转到指定位置，该方法要求传入一个单位为毫秒的数字


#### time():number
获取弹幕引擎的内部时间，返回一个单位为毫秒的数字


#### reset()
重置弹幕引擎
>该操作会重新调用初始化传入的`danmaku`接口，如果接口中存在网络请求，当网络请求缓慢，可能会发生一些意想不到的BUG

>如果不希望重新获取弹幕，请使用 `skip(0)` 进行跳转

## 相关链接

- [弹幕文档](https://meogirl.ml/2021/06/11/danmaku/Mfuns%E5%BC%B9%E5%B9%95%E6%89%8B%E5%86%8C/)
- [弹幕实验室](https://lab.meogirl.ml)

## 目前已实现
 - 贝塞尔曲线
 - 静止放置
 - 3d移动
 - 3d旋转
 - 缩放
 - 并行动画
 - 串行动画
 - 重复动画
 - 透明度动画
 - 图片弹幕
 - 滤镜
 - 渐变
## 未实现清单
 - 路径动画 offset-path
 - svg 属性变换动画
 - 内容遮罩
 - 滤镜和渐变动画

