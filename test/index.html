<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./test.css">
</head>

<body>
    <div class="box"> 
      <pre id="editor">

   [{
        "type":"text",
        "start":0,
        "content":"",
        "style":{
            "backgroundColor":"rgba(0,0,0,1)",
            "width":"50%",
            "height":"40%"
        },
        "animations":[
            {
                "duration":1,
                "type":"translate",
                "path":{
                    "x2":400,
                    "y2":225
                }
            },
            {
                "type":"static",
                "duration":2000
            }
        ]
    },
    {
        "type":"text",
        "content":"内",
        "style":{
            "fontSize":"150px",
            "color":"white",
            "zIndex":10
        },
        "animations":[
            {
                "type":"translate",
                "duration":1000,
                "cubic":[0.68, -0.55, 0.27, 1.55],
                "path":{
                    "x1":480,
                    "y1":900,
                    "x2":480,
                    "y2":300
                }
            },{
                "type":"static",
                "duration":1000
            }
        ]
    },
    {
        "type":"text",
        "start":"200",
        "content":"容",
        "style":{
            "fontSize":"150px",
            "color":"white",
            "zIndex":10
        },
        "animations":[
            {
                "type":"translate",
                "duration":1000,
                "cubic":[0.68, -0.55, 0.27, 1.55],
                "path":{
                    "x1":640,
                    "y1":900,
                    "x2":640,
                    "y2":300
                }
            },{
                "type":"static",
                "duration":1000
            }
        ]
    },
    {
        "type":"text",
        "start":"400",
        "content":"测",
        "style":{
            "fontSize":"150px",
            "color":"white",
            "zIndex":10
        },
        "animations":[
            {
                "type":"translate",
                "duration":1000,
                "cubic":[0.68, -0.55, 0.27, 1.55],
                "path":{
                    "x1":800,
                    "y1":900,
                    "x2":800,
                    "y2":300
                }
            },{
                "type":"static",
                "duration":1000
            }
        ]
    },
    {
        "type":"text",
        "start":"600",
        "content":"试",
        "style":{
            "fontSize":"150px",
            "color":"white",
            "zIndex":10
        },
        "animations":[
            {
                "type":"translate",
                "duration":1000,
                "cubic":[0.68, -0.55, 0.27, 1.55],
                "path":{
                    "x1":960,
                    "y1":900,
                    "x2":960,
                    "y2":300
                }
            },{
                "type":"static",
                "duration":1000
            }
        ]
    }
]

      </pre>

    </div>
    <div class="box">
        <div id="body"></div>
        <button onclick="a.start()">继续</button>
        <button onclick="a.pause()">暂停</button>
        <button onclick="a.reset()">读取编辑器</button>
        <span id="time">time</span>
    </div>
    <!-- <video src="./" id="body"></video> -->
</body>
<script src="../dist/bundle.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js" integrity="sha512-GZ1RIgZaSc8rnco/8CXfRdCpDxRCphenIiZ2ztLy3XQfCbQUSCuk8IudvNHxkRA3oUg6q0qejgN/qqyG1duv5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
var editor = ace.edit("editor");
    editor.setTheme("ace/theme/twilight");
    editor.session.setMode("ace/mode/json");
var time = document.getElementById("time")
    var a = new MfunsDanMaku()
    a.main({
        containers: document.getElementById("body"),
        danmaku: (send) => {
            send(editor.getValue())
        }
    })

  setInterval(()=>{
    time.innerHTML = a.time()

    },100)
      </script>

</html>
